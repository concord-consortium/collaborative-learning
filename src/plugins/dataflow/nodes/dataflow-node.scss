@import "../../../components/vars";
@import "../components/dataflow-vars";

$node-width: 176px;
$node-inner-width: 140px;

.flow-tool {
  .node {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: $node-width;
    min-width: $node-width;
    padding-bottom: 16px;
    border-radius: 5px;
    font-size: 11px;
    box-sizing: border-box;
    color: $gray-text;

    &.sensor {
      background-color: $sensor-blue;
      border-color: $sensor-blue-outline;
      .main-color {
        color: $sensor-blue;
        border: 2px solid $sensor-blue;
        &:hover {
          background-color: $sensor-blue-outline;
        }
      }
      .control-color {
        color: $sensor-blue-control;
      }
      .control-color-hoverable:hover {
        color: $sensor-blue-node;
      }
      .active {
        background-color: $sensor-blue-control;
      }
      .type-options select {
        background-color: $sensor-blue-outline;
      }
      .type-options span {
        border-top-color: $sensor-blue;
      }
    }
    &.number {
      background-color: $number-blue;
      border-color: $number-blue-outline;
      .main-color {
        color: $number-blue;
        border: 2px solid $number-blue;
        &:hover {
          background-color: $number-blue-outline;
        }
      }
      .control-color {
        color: $number-blue-control;
      }
      .control-color-hoverable:hover {
        color: $number-blue-node;
      }
      .active {
        background-color: $number-blue-control;
      }
      .type-options select {
        background-color: $number-blue-outline;
      }
      .type-options span {
        border-top-color: $number-blue;
      }
    }
    &.generator {
      background-color: $generator-blue;
      border-color: $generator-blue-outline;
      .main-color {
        color: $generator-blue;
        border: 2px solid $generator-blue;
        &:hover {
          background-color: $generator-blue-outline;
        }
      }
      .control-color {
        color: $generator-blue-control;
      }
      .control-color-hoverable:hover {
        color: $generator-blue-node;
      }
      .active {
        background-color: $generator-blue-control;
      }
      .type-options select {
        background-color: $generator-blue-outline;
      }
      .type-options span {
        border-top-color: $generator-blue;
      }
    }
    &.timer {
      background-color: $timer-blue;
      border-color: $timer-blue-outline;
      .main-color {
        color: $timer-blue;
        border: 2px solid $timer-blue;
        &:hover {
          background-color: $timer-blue-outline;
        }
      }
      .control-color {
        color: $timer-blue-control;
      }
      .control-color-hoverable:hover {
        color: $timer-blue-node;
      }
      .active {
        background-color: $timer-blue-control;
      }
      .type-options select {
        background-color: $timer-blue-outline;
      }
      .type-options span {
        border-top-color: $timer-blue;
      }
    }
    &.math {
      background-color: $math-green;
      border-color: $math-green-outline;
      .main-color {
        color: $math-green;
        border: 2px solid $math-green;
        &:hover {
          background-color: $math-green-outline;
        }
      }
      .control-color {
        color: $math-green-control;
      }
      .control-color-hoverable:hover {
        color: $math-green-node;
      }
      .active {
        background-color: $math-green-control;
      }
      .type-options select {
        background-color: $math-green-outline;
      }
      .type-options span {
        border-top-color: $math-green;
      }
    }
    &.logic {
      background-color: $logic-green;
      border-color: $logic-green-outline;
      .main-color {
        color: $logic-green;
        border: 2px solid $logic-green;
        &:hover {
          background-color: $logic-green-outline;
        }
      }
      .control-color {
        color: $logic-green-control;
      }
      .control-color-hoverable:hover {
        color: $logic-green-node;
      }
      .active {
        background-color: $logic-green-control;
      }
      .type-options select {
        background-color: $logic-green-outline;
      }
      .type-options span {
        border-top-color: $logic-green;
      }
    }
    &.transform {
      background-color: $transform-green;
      border-color: $transform-green-outline;
      .main-color {
        color: $transform-green;
        border: 2px solid $transform-green;
        &:hover {
          background-color: $transform-green-outline;
        }
      }
      .control-color {
        color: $transform-green-control;
      }
      .control-color-hoverable:hover {
        color: $transform-green-node;
      }
      .active {
        background-color: $transform-green-control;
      }
      .type-options select {
        background-color: $transform-green-outline;
      }
      .type-options span {
        border-top-color: $transform-green;
      }
    }
    &.live-output {
      background-color: $live-output-orange;
      border-color: $live-output-orange-outline;
      .main-color {
        color: $live-output-orange;
        border: 2px solid $live-output-orange;
        &:hover {
          background-color: $live-output-orange-outline;
        }
      }
      .control-color {
        color: $live-output-orange-control;
      }
      .control-color-hoverable:hover {
        color: $live-output-orange-node;
      }
      .active {
        background-color: $live-output-orange-control;
      }
      .type-options select {
        background-color: $live-output-orange-outline;
      }
      .type-options span {
        border-top-color: $live-output-orange;
      }
    }
    &.demo-output {
      background-color: $light-bulb-orange;
      border-color: $light-bulb-orange-outline;
      .main-color {
        color: $light-bulb-orange;
        border: 2px solid $light-bulb-orange;
        &:hover {
          background-color: $light-bulb-orange-outline;
        }
      }
      .control-color {
        color: $light-bulb-orange-control;
      }
      .control-color-hoverable:hover {
        color: $light-bulb-orange-node;
      }
      .active {
        background-color: $light-bulb-orange-control;
      }
      .type-options select {
        background-color: $light-bulb-orange-outline;
      }
      .type-options span {
        border-top-color: $light-bulb-orange;
      }
    }
    &.control {
      background-color: $control-green;
      border-color: $control-green-outline;
      .main-color {
        color: $control-green;
        border: 2px solid $control-green;
        &:hover {
          background-color: $control-green-outline;
        }
      }
      .control-color {
        color: $control-green-control;
      }
      .control-color-hoverable:hover {
        color: $control-green-node;
      }
      .active {
        background-color: $control-green-control;
      }
      .type-options select {
        background-color: $control-green-outline;
      }
      .type-options span {
        border-top-color: $control-green;
      }
    }
    &.has-gate .inputs {
      div:first-of-type .socket {
        transform:rotate(0deg);
        background-image: url("../assets/icons/control/gate.svg");
        transition: all .4s;
        border-radius: 10px 4px 4px 10px;
      }
    }
    &.has-gate.gate-active .inputs {
      div:first-of-type .socket {
        transform:rotate(180deg);
        background-color: $control-green;
        transition: all .4s;
        border-radius: 4px 10px 10px 4px;
      }
    }

    .top-bar {
      display: flex;
      width: $node-inner-width;
      height: 21px;
      padding: 4px 0 2px 0;

      .node-title {
        font-size: 12px;
        font-weight: 500;
        text-align: left;
        color: white;
      }

      .close-node-button {
        position: absolute;
        right: 0px;
        top: 1px;
        width: 18px;
        height: 18px;
        svg {
          width: 8px;
          height: 8px;
          z-index: 1;
        }
      }
    }

    .node-output {
      padding: 0;
      margin: 0;
      height: 20px;
    }

    .control {
      padding: 0px;
      max-width: $node-inner-width;
    }

    select, input {
      font-family: 'Ubuntu', sans-serif;
      font-weight: 400;
      font-size: 14px;
      background-color: white;
      padding: 2px 6px;
      border: 0px solid #999;
      &.sensor {
        color: #0592AF;
      }
    }

    .socket {
      background: $gray-mid;
    }
    input {
      min-width: 0;
      width: 100%;
      height: 24px;
      box-sizing: border-box;
      flex: 1;
    }

    .hr {
      border: 1px solid;
      width: 70%;
      margin: 8px 0;
    }

    .inputs-outputs {
      width: $node-width;
      max-height: 30px;
      display: flex;
      align-items: center;
      justify-content: space-between;

      .inputs,.outputs {
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      .inputs {
        min-width: 9px;
      }

      .socket {
        width: 20px;
        height: 20px;
        margin-top: 1px;
        margin-bottom: 1px;
        margin-right: 1px;
      }

      .output-controls {
        display: flex;
        justify-content: space-evenly;
        min-width: 151px;

        .output-container {
          margin: 0 3px 0 10px;
          padding: 3px;
          display: flex;
          justify-content: center;
          align-items: center;
          background-color: white;
          border-radius: 3px 15px 15px 3px;
          width: 140px;
          height: 30px;
          box-sizing: border-box;
          border: solid 2px white;
          &.sensor, &.number {
            background-color: $sensor-blue-readout;
          }
          &.generator {
            background-color: $generator-blue-readout;
          }
          &.math {
            background-color: $math-green-readout;
          }
          &.logic {
            background-color: $logic-green-readout;
          }
          &.transform {
            background-color: $transform-green-readout;
          }
          &.light-bulb {
            background-color: $light-bulb-orange-readout;
            margin-left: 0px;
          }
          &.demo-output {
            display: none;
          }
          &.live-output {
            display:none;
          }
        }
      }
    }

    .decorated-inputs {
      width: $node-width;
    }
    .node-bottom-section{
      width: 100%;
      display: flex;

      .node-bottom-buttons{
        display: flex;
        flex-direction: column;
        justify-content: center;
        width: 15px;

        .scale-buttons{
          width: 100%;
          height: 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 1px;
          margin-left: -2px;

          &.plus {
            border-bottom: 1px solid;
            font-size: 14px;
            border-top-left-radius: 3px;
            &:active {
              color: white;
            }
          }
          &.minus {
            border-top: 0px;
            font-size: 20px;
            padding-bottom: 3px;
            border-bottom-left-radius: 5px;
            &:active {
              color: white;
            }
          }

          &.sensor {
            border-color: $sensor-blue;
            color: $sensor-blue;
            &:hover {
              background-color: $sensor-blue-outline;
            }
            &:active {
              background-color: $sensor-blue-control;
            }
          }

          &.number {
            border-color: $number-blue;
            color: $number-blue;
            &:hover {
              background-color: $number-blue-outline;
            }
            &:active {
              background-color: $number-blue-control;
            }
          }

          &.generator {
            border-color: $generator-blue;
            color: $generator-blue;

            &:hover {
              background-color: $generator-blue-outline;
            }
            &:active {
              background-color: $generator-blue-control;
            }
          }

          &.timer {
            border-color: $timer-blue;
            color: $timer-blue;

            &:hover {
              background-color: $timer-blue-outline;
            }
            &:active {
              background-color: $timer-blue-control;
            }
          }

          &.math {
            border-color: $math-green;
            color: $math-green;

            &:hover {
              background-color: $math-green-outline;
            }
            &:active {
              background-color: $math-green-control;
            }
          }

          &.logic {
            border-color: $logic-green;
            color: $logic-green;

            &:hover {
              background-color: $logic-green-outline;
            }
            &:active {
              background-color: $logic-green-control;
            }
          }

          &.transform {
            border-color: $transform-green;
            color: $transform-green;

            &:hover {
              background-color: $transform-green-outline;
            }
            &:active {
              background-color: $transform-green-control;
            }
          }

          &.control {
            border-color: $control-green;
            color: $control-green;

            &:hover {
              background-color: $control-green-outline;
            }
            &:active {
              background-color: $control-green-control;
            }
          }

          &.demo-output {
            background-color: $demo-output-orange;
            color: $demo-output-orange;
            &:hover {
              background-color: $demo-output-orange-outline;
            }
            &:active {
              background-color: $demo-output-orange-control;
            }
          }

          &.live-output {
            background-color: $live-output-orange;
            color: $live-output-orange;
            &:hover {
              background-color: $live-output-orange-outline;
            }
            &:active {
              background-color: $live-output-orange-control;
            }
          }

        }
      }

      .node-graph {
        padding: 5px 5px 0 0;
        margin: 10px;
        width: $node-inner-width;
        background-color: white;
        margin-left: 0.5px;
        border-left: 1.5px solid #c6d6f6;
        border-top: 1.5px solid #c6d6f6;
      }
    }
  }


  svg {
    path.main-path {
      stroke: $gray-mid-click;
      stroke-dasharray: 5;
    }
  }
}
